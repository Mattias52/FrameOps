{
  "permissions": {
    "allow": [
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nFix Gemini API initialization for browser environment\n\n- Use import.meta.env.VITE_GEMINI_API_KEY instead of process.env.API_KEY\n- Lazy initialize GoogleGenAI to prevent crash on page load\n- Error only thrown when API is actually used without key configured\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git push:*)",
      "Bash(git commit:*)",
      "Bash(curl:*)",
      "Bash(npm run dev:*)",
      "Bash(npm install)",
      "Bash(wc:*)",
      "Bash(npm run build:*)",
      "Bash(node --check:*)",
      "Bash(timeout 8 node:*)",
      "Bash(taskkill:*)",
      "Bash(netstat:*)",
      "Bash(xargs:*)",
      "Bash(powershell -Command \"Stop-Process -Id 47528 -Force\")",
      "Bash(railway link:*)",
      "Bash(vercel:*)",
      "Bash(supabase --version:*)",
      "Bash(supabase status:*)",
      "Bash(supabase projects:*)",
      "Bash(supabase link:*)",
      "Bash(supabase db push:*)",
      "Bash(supabase db pull:*)",
      "Bash(supabase db execute:*)",
      "Bash(supabase migration repair:*)",
      "Bash(supabase db dump:*)",
      "Bash(supabase migration:*)",
      "Bash(node -e \"\nconst { GoogleGenAI } = require\\(''@google/genai''\\);\nconst fs = require\\(''fs''\\);\n\nconst GEMINI_API_KEY = process.env.GEMINI_API_KEY || ''AIzaSyA19ptyMdVZ5f-4memLapisM01O92PqLpI'';\nconst genai = new GoogleGenAI\\({ apiKey: GEMINI_API_KEY }\\);\n\n// Create a simple test image \\(small colored square as base64\\)\nconst testImageBase64 = ''data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAAoACgDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAYEBQcD/8QALhAAAgEDAwIFAgcBAAAAAAAAAQIDBAURAAYhEjETIkFRYXGBFCMyQpGhsdH/xAAYAQACAwAAAAAAAAAAAAAAAAACAwABBP/EABwRAAICAgMAAAAAAAAAAAAAAAABAhEDIRIxQf/aAAwDAQACEQMRAD8Aw6GGSeZIYY2kkdgqIoyWJ7ADW0bN2Pb7Tt6G6X6JZrmw8RElXMUH7V+v1PJ/zS7sSyRtuFbnVRh6e2xiaMOOGnY4jH04Y/bHvq36ipzgYAOsnkyWqNmLFjUbs6R7btcKLHb6OKPtmONQT9T3P3Oqi4bbt9SGM1HCzn98a9Dj+Rzo0aOFmhsUKO+2NvXCxV1qqo3kfwmlVWIClXAwQR3HSSPvqhtmyLLQyiUwyVci8h6lgB/C4H+6NGmRyTiqInCLdsDduyLDcwXa3enik/5oDj+R8fTSndtgMsLy7fqmlABIpqgeIfpn/dGjRscmRbFSxRkjP7rHdKSqe33q3mCYLkCaL8uRT6jPGD9fpqLs9Vku1SjqGQwHqBGQQWwQfro0aXN5YOuxkI/lTPt/9k='';\n\nasync function testGeminiSpeed\\(\\) {\n  console.log\\(''Testing Gemini response time for image analysis...''\\);\n  console.log\\(''''\\);\n  \n  const prompt = ''You are an AI director helping someone film an instructional video. Look at this frame and give ONE brief tip \\(max 15 words\\) to improve the shot. Be specific and actionable.'';\n  \n  // Test 1: Simple image analysis\n  const start1 = Date.now\\(\\);\n  try {\n    const response = await genai.models.generateContent\\({\n      model: ''gemini-2.0-flash'',\n      contents: [{\n        parts: [\n          { inlineData: { mimeType: ''image/jpeg'', data: testImageBase64.split\\('',''\\)[1] } },\n          { text: prompt }\n        ]\n      }]\n    }\\);\n    const time1 = Date.now\\(\\) - start1;\n    console.log\\(''Test 1 - Image analysis:''\\);\n    console.log\\(''  Time: '' + time1 + ''ms''\\);\n    console.log\\(''  Response: '' + response.text.trim\\(\\)\\);\n    console.log\\(''''\\);\n  } catch \\(e\\) {\n    console.log\\(''Test 1 failed:'', e.message\\);\n  }\n  \n  // Test 2: Second call \\(warmed up\\)\n  const start2 = Date.now\\(\\);\n  try {\n    const response = await genai.models.generateContent\\({\n      model: ''gemini-2.0-flash'',\n      contents: [{\n        parts: [\n          { inlineData: { mimeType: ''image/jpeg'', data: testImageBase64.split\\('',''\\)[1] } },\n          { text: prompt }\n        ]\n      }]\n    }\\);\n    const time2 = Date.now\\(\\) - start2;\n    console.log\\(''Test 2 - Warmed up:''\\);\n    console.log\\(''  Time: '' + time2 + ''ms''\\);\n    console.log\\(''  Response: '' + response.text.trim\\(\\)\\);\n    console.log\\(''''\\);\n  } catch \\(e\\) {\n    console.log\\(''Test 2 failed:'', e.message\\);\n  }\n  \n  // Test 3: Third call\n  const start3 = Date.now\\(\\);\n  try {\n    const response = await genai.models.generateContent\\({\n      model: ''gemini-2.0-flash'',\n      contents: [{\n        parts: [\n          { inlineData: { mimeType: ''image/jpeg'', data: testImageBase64.split\\('',''\\)[1] } },\n          { text: prompt }\n        ]\n      }]\n    }\\);\n    const time3 = Date.now\\(\\) - start3;\n    console.log\\(''Test 3 - Consistent:''\\);\n    console.log\\(''  Time: '' + time3 + ''ms''\\);\n    console.log\\(''  Response: '' + response.text.trim\\(\\)\\);\n    console.log\\(''''\\);\n  } catch \\(e\\) {\n    console.log\\(''Test 3 failed:'', e.message\\);\n  }\n  \n  console.log\\(''=== CONCLUSION ===''\\);\n  console.log\\(''For real-time director feedback, need < 2000ms''\\);\n}\n\ntestGeminiSpeed\\(\\);\n\")",
      "Bash(grep:*)",
      "Bash(node:*)",
      "Bash(npx vercel --prod --yes)",
      "Bash(railway logs:*)",
      "Bash(railway up:*)",
      "Bash(railway status:*)",
      "Bash(railway redeploy:*)",
      "Bash(ls:*)",
      "Bash(docker build:*)",
      "Bash(npx tsc:*)",
      "WebFetch(domain:www.youtube.com)",
      "WebSearch",
      "Bash(npx vercel:*)",
      "Bash(for i in 1 2 3 4 5 6)",
      "Bash(do echo \"Check $i:\")",
      "Bash(done)",
      "Bash(for i in 1 2 3 4 5 6 7 8 9 10 11 12)",
      "Bash(do sleep 30)",
      "Bash(echo:*)",
      "Bash(npm install:*)"
    ]
  }
}
